<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">@media screen { h1,h2,h3,h4,h5,p,a,br,li,td, .underline {font-family:Arial, Helvetica, sans-serif;text-align:justify} body {font-size:11pt;line-height:1.3em} h1 {font-size:18pt} h2 {font-size:15pt} h3 {font-size:13pt} h4 {font-size:12pt} h5 {font-size:11pt} hr {text-align:center;height:1px;border:none;background:black} ol,ul,p,table {margin-left:3em;margin-right:3em} a {text-decoration:none} a:hover {text-decoration:underline} img {} .defword {width:25%} .defexplain {} .defexplain p {padding:0em;margin:0em} .deftablepara {} .deftable {width:85%;padding-left:1em;border-style:none;vertical-align:top} .deftable td {text-align:left;vertical-align:top} .deftablefaq {border-style:solid;border-width:thin} .stdtable {border:1px solid;background:black} .stdtable th {padding:0.5em;background:#EEEEEE;font-family:Arial, Helvetica, sans-serif;font-weight:bold;text-align:center} .stdtable td {padding:0.5em;background:white;text-align:left;vertical-align:top} .end {font-size:8pt} .example {margin-left:3em;margin-right:3em;border:1px solid;padding:1em;background-color:#EEEEEE} .header {margin-left:3em;margin-right:3em;border:1px solid;padding:1em;background-color:#FFFFEE} .indented {margin-left: 50px} .litable {text-align:left} .new {border-right:10px solid;padding-right:10px;font-family:Arial} .note {margin:0.5em 3em 0.5em 3em;border:1px solid;padding:0em;background-color:#F0F0A0} .note .title {font-family:sans-serif;font-weight:bold;margin:0.5em} .note .message {margin:0.5em 1.5em 0.5em 1.5em;padding:0em} .note .message p {padding:0em;margin:1em 0em 1em 0em} .reference {} .caption {font-size:10pt;text-align:center;font-style:italic} .todolist {padding:0.5em;font-size:10pt} .todolist p {margin:0em 3em 0em 3em} .todo {margin:1em 3em 1em 3em;padding:0.5em;border:solid 2px black;background:#FFAAAA;font-size:10pt} .todo p {margin:0.2em 1em 0.2em 1em} .inline {margin:0.5em 3em 0.5em 3em;border:solid 1px;padding:0em;background-color:#EEEEEE} .inline .title {font-family:sans-serif;font-weight:bold;margin:0.5em} .inline .elements {font-size:10pt;margin:0em 0em 0.5em 0em;padding:0em 1em 0em 1em} .inline .elements p {display:inline-table;margin:0.25em 0.5em 0.25em 0.5em} .tocindent {margin-left: 2em} .top {font-size:8pt;text-align:right} .underline {text-decoration:underline} } @media print { h1,h2,h3,h4,h5,p,a,br,li, #underline {font-family:Arial;text-align:justify;orphans:5;widows:5} p,li,td {font-size:10pt} ul,ol {page-break-after:avoid;orphans:5;widows:5} }</style><title>R3 GUI Reactors</title></head><body onload="window.location.hash = window.location.hash"><a id="top" name="top"></a><h2>R3 GUI Reactors</h2><pre class="example">Author: Carl Sassenrath, RMA
Date: 6-May-2011/15:48:36+2:00</pre><hr /><h2>Contents</h2><div class="tocindent"><a href="#sect1"><strong>1. Concept</strong></a><br /><a href="#sect2"><strong>2. Using Reactors</strong></a><br /><a href="#sect3"><strong>3. Standard Reactors</strong></a><br /><a href="#sect4"><strong>4. Multiple Reactors</strong></a><br /><a href="#sect5"><strong>5. Creating Custom Reactors</strong></a><br /><a href="#sect6"><strong>6. Calling Reactors</strong></a><br /><a href="#sect7"><strong>7. Examples</strong></a><br /></div><h2><a id="sect1" name="sect1">1. Concept</a></h2><p>Events on GUI faces trigger <em>reactors</em>.</p><p>When a user pushes a button, something happens. The GUI reacts to user input. The result may be a common action such as opening or closing a window, or it may be a very specific action. A reactor is just a type of <em>shortcut</em> for a common action. They make the GUI easier to use by eliminating the need to write detailed code.</p><p>Reactors are attached to faces. They are usually invoked by the actors of the face style (but not exclusively, there are examples of face reactors being invoked by an actor of an attached face; reactors can be invoked by some user code as well). A reactor can include a single argument value. If more than one argument is needed, they must be enclosed in a block.</p><p>Multiple reactors can be attached to the same face. Each reactor is processed in the order that it appears, so the consequences of a reactor's actions must be considered; it can impact the reactors that follow.</p><div class="top">[ <a href="#top">back to top</a> ]</div><hr /><h2><a id="sect2" name="sect2">2. Using Reactors</a></h2><p>Reactors are specified in the GUI dialect that is used to create a layout.</p><p>For example, here's a layout that opens a window and displays three buttons, each of which that specifies a reactor:</p><pre class="example">view [
    button &quot;REBOL&quot; browse http://www.rebol.com
    button &quot;Alert&quot; alert &quot;This is an alert.&quot;
    button &quot;Close&quot; close
]</pre><p>The obvious actions occur when each button is pressed. The w:browse reactor opens a web browser, the w:alert opens a pop-up alert layout, and w:close will close the current window.</p><div class="top">[ <a href="#top">back to top</a> ]</div><hr /><h2><a id="sect3" name="sect3">3. Standard Reactors</a></h2><p>These reactor functions are provided as a standard part of the GUI:</p><div><table class="stdtable" border="0" cellpadding="0" cellspacing="1"><tr><td>Reactor </td><td>Description </td></tr><tr><td>alert </td><td>open an alert message box window </td></tr><tr><td>attach </td><td>set a target value to our value </td></tr><tr><td>back (N/A) </td><td>return to prior layout (on layout stack) </td></tr><tr><td>browse </td><td>open web browser to given URL </td></tr><tr><td>call (N/A) </td><td>run a shell script on local OS </td></tr><tr><td>clear </td><td>clear face value (empty it) </td></tr><tr><td>close </td><td>close the window </td></tr><tr><td>debug </td><td>trace face operation </td></tr><tr><td>do </td><td>evaluate a REBOL block, file, or URL </td></tr><tr><td>download (N/A) </td><td>opens download progress layout, starts download </td></tr><tr><td>dump </td><td>probe the contents of the related face object </td></tr><tr><td>edit (N/A) </td><td>opens editor for specified content </td></tr><tr><td>halt </td><td>halt the interpreter </td></tr><tr><td>link (N/A) </td><td>fetch reb content and evaluate it </td></tr><tr><td>launch </td><td>run file or URL in a new instance of REBOL </td></tr><tr><td>open (N/A)</td><td>open a file using local OS methods </td></tr><tr><td>quit </td><td>exit the application </td></tr><tr><td>play (N/A)</td><td>plays a sound </td></tr><tr><td>print </td><td>print output </td></tr><tr><td>reset </td><td>reset face to original value </td></tr><tr><td>scroll </td><td>scroll a target face </td></tr><tr><td>send (N/A)</td><td>sends a message to a target </td></tr><tr><td>set </td><td>set the state of another face </td></tr><tr><td>submit </td><td>submit face (or layout) to service or website </td></tr><tr><td>undo (N/A) </td><td>undo last change </td></tr><tr><td>upload (N/A)</td><td>opens upload progress layout, starts upload </td></tr><tr><td>view (N/A)</td><td>view a new &quot;page&quot;</td></tr></table></div><p>Here are a few examples:</p><pre class="example">button &quot;Alert&quot; alert &quot;This is an alert.&quot;
button &quot;Browse&quot; browse http://www.rebol.com
button &quot;Close&quot; close
button &quot;Do&quot; do [alert &quot;It worked!&quot;]
button &quot;Dump&quot; dump
button &quot;Halt&quot; halt
button &quot;Launch&quot; launch %test.r
button &quot;Print&quot; print &quot;print to console&quot;
button &quot;Quit&quot; quit
button &quot;Run&quot; run %explorer.exe
button &quot;View&quot; view [button &quot;Close&quot; close]

f1: field &quot;Field 1&quot;
button &quot;Focus on 1&quot; focus 'f1</pre><div class="top">[ <a href="#top">back to top</a> ]</div><hr /><h2><a id="sect4" name="sect4">4. Multiple Reactors</a></h2><p>A face can have more than one reactor. Each reactor is processed in the order that it appears. The example below shows how two fields are reset using a single reset button:</p><pre class="example">user: field
pass: field
button &quot;Reset&quot; reset 'user reset 'pass</pre><p>Reactors are processed from left to right, so be sure to consider that.</p><p>For example, this line works:</p><pre class="example">button &quot;Submit&quot; submit cgi-url clear 'user</pre><p>But, in this line the field is cleared, so the submitted text is empty:</p><pre class="example">button &quot;Submit&quot; clear 'user submit cgi-url</pre><p>So, that's not useful.</p><div class="top">[ <a href="#top">back to top</a> ]</div><hr /><h2><a id="sect5" name="sect5">5. Creating Custom Reactors</a></h2><div class="note"><div class="message"><p>Feature in this section is not yet implemented.</p></div></div><p>The f:make-reactor function can be called to create custom reactors for your GUI. One or more new reactors can be defined. The format of a reactor definition is similar to that of a function, except the f:function creator such as f:func is not used.</p><p>Here's an example reactor definition:</p><pre class="example">make-reactor [
    my-browse: [&quot;Open web browser.&quot; arg [url! file!]] [browse arg]
]</pre><div class="top">[ <a href="#top">back to top</a> ]</div><hr /><h2><a id="sect6" name="sect6">6. Calling Reactors</a></h2><p>When implmenting a style actor, when a final result is known, it may be necessary to call one or more face reactors.</p><p>The f:do-face function calls reactors. This line calls all reactors:</p><pre class="example">do-face face</pre><p>To call a specific reactor, you can write:</p><pre class="example">do-face/only face 'reactor</pre><p>where w:reactor is its name.</p><div class="top">[ <a href="#top">back to top</a> ]</div><hr /><h2><a id="sect7" name="sect7">7. Examples</a></h2><p>Here's an example layout that uses a few different reactors:</p><pre class="example">view [
    hpanel 2 [
        button &quot;Do&quot; do [request &quot;Got it!&quot; &quot;It worked.&quot;]
        button &quot;Browse&quot; browse http://www.rebol.com
        button &quot;Run&quot; run %explorer
        button &quot;Alert&quot; alert &quot;This is an alert.&quot;
    ]
    hpanel 2 [
        f1: field &quot;Field 1&quot;
        f2: field &quot;Field 2&quot;
        button &quot;Focus on 1&quot; focus 'f1
        button &quot;Focus on 2&quot; focus 'f2
    ]
    hpanel 2 [
        button &quot;Close&quot; close
        button &quot;Halt&quot; halt
        button &quot;Quit&quot; quit
        button &quot;Print&quot; print &quot;print this message&quot;
        button &quot;Dump&quot; dump
    ]
]</pre><div class="top">[ <a href="#top">back to top</a> ]</div><hr /><p class="end">Document formatter copyright <a href="http://www.robertmuench.de">Robert M. M&uuml;nch</a>. All Rights Reserved.<br />XHTML 1.0 Transitional formatted with Make-Doc-Pro Version:1.3.0 on 6-May-2011 at 15:48:55</p></body></html>