<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">@media screen { h1,h2,h3,h4,h5,p,a,br,li,td, .underline {font-family:Arial, Helvetica, sans-serif;text-align:justify} body {font-size:11pt;line-height:1.3em} h1 {font-size:18pt} h2 {font-size:15pt} h3 {font-size:13pt} h4 {font-size:12pt} h5 {font-size:11pt} hr {text-align:center;height:1px;border:none;background:black} ol,ul,p,table {margin-left:3em;margin-right:3em} a {text-decoration:none} img {} .defword {width:25%} .defexplain {} .defexplain p {padding:0em;margin:0em} .deftablepara {} .deftable {width:85%;padding-left:1em;border-style:none;vertical-align:top} .deftable td {text-align:left;vertical-align:top} .deftablefaq {border-style:solid;border-width:thin} .stdtable {border:1px solid;background:black} .stdtable th {padding:0.5em;background:#EEEEEE;font-weight:bold;text-align:center} .stdtable td {padding:0.5em;background:white;text-align:left;vertical-align:top} .end {font-size:8pt} .example {margin-left:3em;margin-right:3em;border:1px solid;padding:1em;background-color:#EEEEEE} .header {margin-left:3em;margin-right:3em;border:1px solid;padding:1em;background-color:#FFFFEE} .indented {margin-left: 50px} .litable {text-align:left} .new {border-right:10px solid;padding-right:10px;font-family:Arial} .note {margin:0.5em 3em 0.5em 3em;border:1px solid;padding:0em;background-color:#F0F0A0} .note .title {font-family:sans-serif;font-weight:bold;margin:0.5em} .note .message {margin:0.5em 1.5em 0.5em 1.5em;padding:0em} .note .message p {padding:0em;margin:1em 0em 1em 0em} .reference {} .caption {font-size:10pt;text-align:center;font-style:italic} .todolist {padding:0.5em;font-size:10pt} .todolist p {margin:0em 3em 0em 3em} .todo {margin:1em 3em 1em 3em;padding:0.5em;border:solid 2px black;background:#FFAAAA;font-size:10pt} .todo p {margin:0.2em 1em 0.2em 1em} .inline {margin:0.5em 3em 0.5em 3em;border:solid 1px;padding:0em;background-color:#EEEEEE} .inline .title {font-family:sans-serif;font-weight:bold;margin:0.5em} .inline .elements {font-size:10pt;margin:0em 0em 0.5em 0em;padding:0em 1em 0em 1em} .inline .elements p {display:inline-table;margin:0.25em 0.5em 0.25em 0.5em} .tocindent {margin-left: 2em} .top {font-size:8pt;text-align:right} .underline {text-decoration:underline} } @media print { h1,h2,h3,h4,h5,p,a,br,li, #underline {font-family:Arial;text-align:justify;orphans:5;widows:5} p,li,td {font-size:10pt} ul,ol {page-break-after:avoid;orphans:5;widows:5} }</style><title>Notes to the %resizing-shortcuts.mdp document</title></head><body><a id="top" name="top"></a><h2>Notes to the %resizing-shortcuts.mdp document</h2><pre class="example">Author: Ladislav Mecir, Richard Smolak
Date: 18-Mar-2011/8:06:42+1:00</pre><h2><a id="sect1" name="sect1">1. Introduction</a></h2><p>Henrik had a nice idea to &quot;throw in&quot; three examples for comparison purposes. Let' see them:</p><h3><a id="sect1.1" name="sect1.1">1.1 Simple horizontal divider bar</a></h3><pre class="example">bar: box [
    about: &quot;Simple horizontal divider bar.&quot;
    facets: [
        init-size: 1x2
        min-size: 1x2
        max-size: -1x2
    ]
]</pre><p>The code is incorrect. In our opinion, the correct code was meant to be:</p><pre class="example">bar: box [
    about: &quot;Simple horizontal divider bar.&quot;
    facets: [
        init-size: 1x2
        min-size: 1x2
        max-size: as-pair 1 guie/max-coord
    ]
]</pre><h3><a id="sect1.2" name="sect1.2">1.2 Simple box</a></h3><p>Henrik wrote: &quot;A derivative that tries not to destruct size information from the parent:&quot;</p><p>We do not understand what is meant by &quot;tries not to destruct...&quot;.</p><pre class="example">box: [
    about: &quot;Simple box&quot;
    facets: [
        init-size: 100x100
        max-size: guie/max-coord
    ]
]</pre><p>The code is incorrect. In our opinion, the correct code was meant to be:</p><pre class="example">box: [
    about: &quot;Simple box&quot;
    facets: [
        init-size: 100x100
    ]
]</pre><h3><a id="sect1.3" name="sect1.3">1.3 Button</a></h3><p>Button in R3-GUI has the following dimensions:</p><pre class="example">init-size: 130x24
min-size: 24x24
max-size: 260x24</pre><h3><a id="sect1.4" name="sect1.4">1.4 Panels</a></h3><p>In the case of panels the INIT-SIZE, MIN-SIZE and MAX-SIZE are calculated after every content change. Thus, to allow the user to influence these, the Hint dialect was designed. As opposed to the above Flex dialect, the Hint dialect is usable to influence every of the above panel dimensions in an unrestricted way, which was found to be necessary.</p><h3><a id="sect1.5" name="sect1.5">1.5 Text and other styles with calculated dimensions</a></h3><p>In case of the text style, the INIT-SIZE, MIN-SIZE and MAX-SIZE dimensions are calculated after every content change. Thus, a way how to influence the result of the calculation is needed as well for the text style and similar styles. The Hint dialect is suitable for this allowing the user to adjust any available dimension.</p><div class="top">[ <a href="#top">back to top</a> ]</div><hr /><h2><a id="sect2" name="sect2">2. Flex</a></h2><h3><a id="sect2.1" name="sect2.1">2.1 Pair notation</a></h3><p>This notation uses some arbitrary numbers, that are not readable without documentation.</p><p>In our opinion, the users are likely to make errors in them, since the meaning is not obvious. Moreover, such errors are hard to detect, due to the non-obvious meaning.</p><h4><a id="sect2.1.1" name="sect2.1.1">2.1.1 Simple box</a></h4><pre class="example">box: [
    about: &quot;Simple box&quot;
    facets: [
        init-size: 100x100
        flex: 1x1
    ]
]</pre><p>Comparing this example to the code in the &quot;Introduction&quot; section we prefer the one in there, since it is:</p><ul><li>shorter</li><li>simpler</li></ul><h4><a id="sect2.1.2" name="sect2.1.2">2.1.2 Simple horizontal divider bar.</a></h4><pre class="example">bar: box [
    about: &quot;Simple horizontal divider bar.&quot;
    facets: [
        init-size: 1x2
        flex: 1x-1
    ]
]</pre><p>When compared to the example in the &quot;Introduction&quot; section it spares one line, i.e. it is shorter, but much more cryptic at the same time.</p><h4><a id="sect2.1.3" name="sect2.1.3">2.1.3 Button</a></h4><p>The current button style cannot be defined using the Flex dialect.</p><h4><a id="sect2.1.4" name="sect2.1.4">2.1.4 Panels</a></h4><p>While the Hint dialect has been found necessary (see the reasons above), the introduction of an incompatible Flex dialect does not help to simplify the situation of the user, which is forced to learn a new dialect even when:</p><ul><li>the Flex dialect does not allow him to set all the properties demonstrated in the r3-gui/tests/panels/ examples</li><li>the Flex dialect does not make the code more readable</li></ul><h4><a id="sect2.1.5" name="sect2.1.5">2.1.5 Text and other styles with calculated dimensions</a></h4><p>The same objections as for panels apply.</p><h4><a id="sect2.1.6" name="sect2.1.6">2.1.6 Layout examples</a></h4><h5><a id="sect2.1.6.1" name="sect2.1.6.1">2.1.6.1 Box example</a></h5><p>In the code example:</p><pre class="example">view [box options [max-size: as-pair guie/max-coord 2]]
; the number 2 is necessary knowledge. MAX-COORD is necessary knowledge.</pre><p>, the comment is misleading. For the box style defined above the example can be:</p><pre class="example">view [box]</pre><p>No Flex dialect can make this code simpler or shorter.</p><h5><a id="sect2.1.6.2" name="sect2.1.6.2">2.1.6.2 Second box example</a></h5><p>In the example</p><pre class="example">view [box options [max-size/x: guie/max-coord/x]]
; this is not possible, currently </pre><p>The comment is correct. This does not work, because the REDUCE/SET function is used to process the options.</p><p>However, this code works:</p><pre class="example">view [box options [max-size: guie/max-pair]]</pre><p>Compared to the Flex example it is roughly of the same length, and it looks less cryptic, since:</p><ul><li>it does not use arbitrary numbering</li><li>it does not require the knowledge of a new dialect</li></ul><h3><a id="sect2.2" name="sect2.2">2.2 Word notation</a></h3><p>Henrik stated: &quot;... word notation may be easier to read, but may in this form be too easy to produce illegal char combinations.&quot;</p><p>We do agree with this objection and consider it serious.</p><p>We don't like the word notation. Why X, Y should mean 'unlimited' and W,H 'restricted'... We don't think such a dialect would make the life of a style or layout writer easier.</p><div class="top">[ <a href="#top">back to top</a> ]</div><hr /><h2><a id="sect3" name="sect3">3. Other problems of the proposal</a></h2><p>We are worried, that this additional layer will unnecessarily slow down the system, because if Flex is defined in the face style, the init/min/max settings would need to be recalculated on every resize although currently this recalc is not really neccessary. Such a recalculation would in fact be disastrous for the performance of the resizing algorithm for (h/v)panel as well as the resizing algorithm for (h/v)group.</p><div class="top">[ <a href="#top">back to top</a> ]</div><hr /><h2><a id="sect4" name="sect4">4. Summary</a></h2><p>The most serious problems of the proposed Flex dialect are, that it is incompatible with:</p><ul><li>the way how the dimensions of panels and groups are calculated</li><li>the way how the dimensions of buttons are currently specified</li><li>the way how the dimensions of text and other styles with calculated dimensions will be specified</li></ul><p>Tak√≠ng all the above disadvantages and the comparisons of the examples into account we do not recommend to use the dialect.</p><div class="top">[ <a href="#top">back to top</a> ]</div><hr /><p class="end">Document formatter copyright <a href="http://www.robertmuench.de">Robert M. M&uuml;nch</a>. All Rights Reserved.<br />XHTML 1.0 Transitional formatted with Make-Doc-Pro Version:1.3.0 on 18-Mar-2011 at 14:56:50</p></body></html>